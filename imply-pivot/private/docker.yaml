# generated by Pivot version 0.7.50
# for a more detailed walk-through go to: https://github.com/implydata/pivot/blob/master/docs/configuration.md

port: 9090

druidHost: 192.168.99.100

sourceListScan: disable

dataSources:
  - name: wikipedia
    title: Wikipedia
    engine: druid
    source: wikipedia

    refreshRule:
      rule: query
      refresh: PT1M

    defaultSortMeasure: count

    defaultPinnedDimensions: []

    introspection: autofill-all

    attributeOverrides:
      - name: commentLength
        type: NUMBER

    dimensions:
      - name: __time
        title: Time
        kind: time
        expression: $__time

      - name: channel
        title: Channel
        expression: $channel

      - name: cityName
        title: City Name
        expression: $cityName

      - name: comment
        title: Comment
        expression: $comment

      - name: commentLength
        title: Comment Length
        expression: $commentLength
        kind: number

      - name: countryIsoCode
        title: Country Iso Code
        expression: $countryIsoCode

      - name: countryName
        title: Country Name
        expression: $countryName

      - name: isAnonymous
        title: Is Anonymous
        expression: $isAnonymous

      - name: isMinor
        title: Is Minor
        expression: $isMinor

      - name: isNew
        title: Is New
        expression: $isNew

      - name: isRobot
        title: Is Robot
        expression: $isRobot

      - name: isUnpatrolled
        title: Is Unpatrolled
        expression: $isUnpatrolled

      - name: metroCode
        title: Metro Code
        expression: $metroCode

      - name: namespace
        title: Namespace
        expression: $namespace

      - name: page
        title: Page
        expression: $page

      - name: regionIsoCode
        title: Region Iso Code
        expression: $regionIsoCode

      - name: regionName
        title: Region Name
        expression: $regionName

      - name: sometimeLater
        title: Sometime Later
        expression: $sometimeLater

      - name: user
        title: User
        expression: $user

      - name: userChars
        title: User Chars
        expression: $userChars

    measures:
      - name: count
        title: Count
        expression: $main.sum($count)

      - name: added
        title: Added
        expression: $main.sum($added)

      - name: deleted
        title: Deleted
        expression: $main.sum($deleted)

      - name: delta
        title: Delta
        expression: $main.sum($delta)

      - name: deltaByTen
        title: Delta By Ten
        expression: $main.sum($deltaByTen)

      - name: delta_hist_p95
        title: Delta Hist P95
        expression: $main.quantile($delta_hist,0.95)

      - name: delta_hist_p99
        title: Delta Hist P99
        expression: $main.quantile($delta_hist,0.99)

      - name: max_delta
        title: Max Delta
        expression: $main.max($max_delta)

      - name: min_delta
        title: Min Delta
        expression: $main.min($min_delta)

      - name: page_unique
        title: Page Unique
        expression: $main.countDistinct($page_unique)

      - name: user_unique
        title: User Unique
        expression: $main.countDistinct($user_unique)


